# 第 3 章 数据链路

![intro](images/01-intro.png)

## 数据链路的作用

TCP/IP 没有对数据链路层及以下做定义，认为这两层的功能是透明的，但想要深入理解 TCP/IP 与网络就需要数据链路的知识

**数据链路层的协议定义了通过通信媒介互联的设备之间传输的规范**。通信媒介有双绞线电缆、同轴电缆、光纤、电波、红外线等介质，另外设备间也会通过交换机、网桥、中继器等中转数据

计算使用二进制表示信息，实际的通信媒介使用电压高低、灯山灭、电波强弱等表示信息，这两种信息之间的转换正是物理层的责任。数据链路层处理的数据也不是单纯的 0、1 序列，而是将他们集合为一个叫做“帧”的数据块后进行传输

可将数据链路视为**网络传输中的最小单位**，互联网可以称为“**数据链路的集合**”

> 数据链路的**段**
> 
> **指一个被分割的网络**，观察角度不同其范围也不同
> 
> 例如使用中继器将两条网线组成一个网络，从网络层（逻辑上）看，两条网线属于一个网络，是一个段；从物理层看，两条网线分属于两个段

> **网络拓扑**（Topology）
> 
> 指网络的连接和构成的形态，有总线型、环形、星型、网状型等，目前实际的网络都是由这些简单的拓扑结构错综复杂的组合而成的
>
> > **拓扑**一词既可用于描述物理上的配线方式，也可描述逻辑上的网络结构

## 3.2 数据链路相关技术

### MAC 地址

**MAC 地址用于识别数据链路中互连的节点**

以太网、FDDI、ATM、无线 LAN、蓝牙等都是**根据 IEEE 的相关协议规范使用** MAC 地址的

> - **FDDI**，Fiber Distributed Data Interface，光纤分布式数据接口
> - **ATM**，Asynchronous Transfer Mode，异步传输模式。以信元为基础的一种分组交换和复用技术，面向连接的传输模式，高速数据传输率，支持多种类型（声音、数据、传真、CD、视频等等）
> - **IEEE**，美国电气和电子工程师协会，也可读作“I triple E”，IEEE802 是专门制定局域网标准化相关规范的组织，如 IEEE802.3 是关于以太网的

通过 MAC 地址判断目标地址：
![通过MAC地址判断目标地址](./images/03-通过MAC地址判断目标地址.jpg)

MAC 地址**长 48 比特**（6 字节，常用十六进制表示（此时长 12 个字符）），一般在全世界不重复。在使用网卡情况下，其一般被烧入到 ROM 中

> - **ROM**，Read-Only Memory，**只读存储器**。以非破坏性读出方式工作，只能读出无法写入，掉电后信息依然存在，也称为**固定存储器**
> - **烧入**，指将程序或数据写入到存储器中
>   - 最初用于一次性可编程只读存储器上，使用远高于正常读取电压的电压来强行改变内部物理结构实现程序写入，再用高电压将写入电路烧断保证无法二次写入。后来的一次性光盘也是用远高于正常读取功率的大功率来强行改变表面结构
>   - 随着技术发展，现代存储器一般可以多次写入，写入原理也不再是永久性改变，但烧这个词还是保留了
> - **唯一性**，只要不在一个数据链路中，MAC 地址重复也不会出现问题。如微机板是可以我们自己设置 MAC 地址的，如虚拟机的 MAC 地址也是虚拟软件自己设的，这就完全可能跟世界上某个 MAC 地址重复

IEEE802.3 规定的 MAC地址格式：
![03-MAC地址格式](./images/03-MAC地址格式.jpg)
